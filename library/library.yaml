# library库加载顺序
# 当配置文件不存在或配置数值为空时，将以目录顺序载入整个library
# 当配置的载入路径如 - "abc"但不存在的/library/abc时，不会依据配置数值为空的逻辑
require:
  - "common"
  - "japi"
  - "ability"
  - "class"

# library库的混淆规则
encrypt:
  # 强行整词替换的串
  forces:
    - "TPL_UNIT"
    - "TPL_ITEM"
    - "TPL_ABILITY"

  # 按规则整合：销毁、替换
  # - path不包含库名library
  # - del规则：强行整词的串替换
  # - repl规则：正则快速替换
  # - fun规则：专用于函数方法替换
  # - self规则：专用于替换self冒号方法替换
  rules:
    - path: "ability"
      repl: "^(ability\\.\\w+) = |^function (ability\\.\\w+)\\("
      del: "ability = ability or {}"
    - path: "class/meta"
      fun: "^function ([A-Za-z0-9]+)\\("
      self: "_index:(\\w+)\\("
      del: ""
    - path: "class/ui"
      fun: "^function ([A-Za-z0-9]+)\\("
      self: "_index:(\\w+)\\("
      del: ""
    - path: "class/vast"
      fun: "^function ([A-Za-z0-9]+)\\("
      self: "_index:(\\w+)\\("
      del: ""
    - path: "common/alerter"
      repl: "^(alerter\\.\\w+) = |^function (alerter\\.\\w+)\\("
      del: "alerter = alerter or {}"
    - path: "common/alliance"
      repl: "^function (alliance\\.\\w+)\\("
      del: "alliance = alliance or {}"
    - path: "common/async"
      repl: "^(async\\.\\w+) = |^function (async\\.\\w+)\\("
      del: "async = async or {}"
    - path: "common/attribute"
      repl: "^(attribute\\.\\w+) = |^function (attribute\\.\\w+)\\("
      del: "attribute = attribute or {}"
    - path: "common/camera"
      repl: "^function (camera\\.\\w+)\\("
      del: "camera = camera or {}"
    - path: "common/class"
      repl: "^(class\\.\\w+) = |^function (class\\.\\w+)\\("
      del: "class = class or {}"
    - path: "common/className"
      repl: "^(\\w+) = "
      del: ""
    - path: "common/colour"
      repl: "^(colour\\.\\w+) = |^function (colour\\.\\w+)\\("
      del: "colour = colour or {}"
    - path: "common/cursor"
      repl: "^(cursor\\.\\w+) = |^function (cursor\\.\\w+)\\("
      del: "cursor = cursor or {}"
    - path: "common/curve"
      repl: "^function (curve\\.\\w+)\\("
      del: "curve = curve or {}"
    - path: "common/datum"
      repl: "^(datum\\.\\w+) = |^function (datum\\.\\w+)\\("
      del: "datum = datum or {}"
    - path: "common/description"
      repl: "^(description\\.\\w+) = |^function (description\\.\\w+)\\("
      del: "description = description or {}"
    - path: "common/destructable"
      repl: "^(destructable\\.\\w+) = |^function (destructable\\.\\w+)\\("
      del: "destructable = destructable or {}"
    - path: "common/echo"
      fun: "^function (echo)\\("
      del: ""
    - path: "common/effector"
      repl: "^(effector\\.\\w+) = |^function (effector\\.\\w+)\\("
      del: "effector = effector or {}"
    - path: "common/event"
      repl: "^(event\\.\\w+) = |^function (event\\.\\w+)\\("
      del: "event = event or {}"
    - path: "common/eventKind"
      repl: "^(eventKind\\.\\w+) = "
      del: "eventKind = eventKind or {}"
    - path: "common/fog"
      repl: "^function (fog\\.\\w+)\\("
      del: "fog = fog or {}"
    - path: "common/game"
      repl: "^(game\\.\\w+) = |^function (game\\.\\w+)\\("
      del: "game = game or {}"
    - path: "common/injury"
      repl: "^(injury\\.\\w+) = |^function (injury\\.\\w+)\\("
      del: "injury = injury or {}"
    - path: "common/keyboard"
      repl: "^(keyboard\\.\\w+) = |^function (keyboard\\.\\w+)\\("
      del: "keyboard = keyboard or {}"
    - path: "common/lightning"
      repl: "^(lightning\\.\\w+) = |^function (lightning\\.\\w+)\\("
      del: "lightning = lightning or {}"
    - path: "common/mark"
      repl: "^(mark\\.\\w+) = |^function (mark\\.\\w+)\\("
      del: "mark = mark or {}"
    - path: "common/math"
      repl: "^(math\\.\\w+) = |^function (math\\.\\w+)\\("
      del: ""
    - path: "common/mbstring"
      repl: "^function (mbstring\\.\\w+)\\("
      del: "mbstring = mbstring or {}"
    - path: "common/monitor"
      repl: "^(monitor\\.\\w+) = |^function (monitor\\.\\w+)\\("
      del: "monitor = monitor or {}"
    - path: "common/mouse"
      repl: "^function (mouse\\.\\w+)\\("
      del: "mouse = mouse or {}"
    - path: "common/mtg"
      repl: "^(mtg\\.\\w+) = |^function (mtg\\.\\w+)\\("
      del: "mtg = mtg or {}"
    - path: "common/player"
      repl: "^(player\\.\\w+) = |^function (player\\.\\w+)\\("
      del: "player = player or {}"
    - path: "common/slk"
      repl: "^function (slk\\.\\w+)\\("
      del: "slk = slk or {}"
    - path: "common/sound"
      repl: "^(sound\\.\\w+) = |^function (sound\\.\\w+)\\("
      del: "sound = sound or {}"
    - path: "common/string"
      repl: "^(string\\.\\w+) = |^function (string\\.\\w+)\\("
      del: ""
    - path: "common/superposition"
      repl: "^(superposition\\.\\w+) = |^function (superposition\\.\\w+)\\("
      del: "superposition = superposition or {}"
    - path: "common/sync"
      repl: "^(sync\\.\\w+) = |^function (sync\\.\\w+)\\("
      del: "sync = sync or {}"
    - path: "common/table"
      repl: "^function (table\\.\\w+)\\("
      del: ""
    - path: "common/terrain"
      repl: "^(terrain\\.\\w+) = |function (terrain\\.\\w+)\\("
      del: "terrain = terrain or {}"
    - path: "common/time"
      repl: "^(time\\.\\w+) = |^function (time\\.\\w+)\\("
      del: "time = time or {}"
    - path: "common/ttg"
      repl: "^(ttg\\.\\w+) = |^function (ttg\\.\\w+)\\("
      del: "ttg = ttg or {}"
    - path: "common/vector2"
      repl: "^(vector2\\.\\w+) = |^function (vector2\\.\\w+)\\("
      del: "vector2 = vector2 or {}"
    - path: "common/vector3"
      repl: "^(vector3\\.\\w+) = |^function (vector3\\.\\w+)\\("
      del: "vector3 = vector3 or {}"
    - path: "common/vistring"
      repl: "^(vistring\\.\\w+) = |^function (vistring\\.\\w+)\\("
      del: "vistring = vistring or {}"
    - path: "common/weather"
      repl: "^(weather\\.\\w+) = |^function (weather\\.\\w+)\\("
      del: "weather = weather or {}"
    - path: "common/window"
      repl: "^function (window\\.\\w+)\\("
      del: "window = window or {}"
    - path: "common/worth"
      repl: "^(worth\\.\\w+) = |^function (worth\\.\\w+)\\("
      del: "worth = worth or {}"
    - path: "japi/_japi"
      repl: "^(japi\\.\\w+) = |^function (japi\\.\\w+)\\("
      del: "japi = japi or {}"
    - path: "japi/dz"
      repl: "^function (japi\\.\\w+)\\("
      del: ""
    - path: "japi/kk"
      repl: "^function (japi\\.\\w+)\\("
      del: ""
    - path: "japi/lk"
      repl: "^(japi\\.\\w+) = |^function (japi\\.\\w+)\\("
      del: ""
    - path: "japi/yd"
      repl: "^function (japi\\.\\w+)\\("
      del: ""
